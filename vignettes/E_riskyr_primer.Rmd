---
title: "`riskyr` Primer"
author: "Nico Gradwohl & Hansjörg Neth, SPDS, uni.kn"
date: "2018 02 12"
output: 
  rmarkdown::html_vignette: 
    fig_caption: yes
vignette: > 
  %\VignetteIndexEntry{User Guide}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

`riskyr` is a toolbox for rendering risk literacy more transparent by facilitating such changes in representation and offering multiple perspectives on the dynamic interplay between probabilities and frequencies. The main goal of `riskyr` is to provide a long-term boost in risk literacy by fostering competence in understanding statistical information in domains such as health, weather, and finances (Hertwig & Grüne-Yanoff, 2017).

## Getting Started 

How can you get started with `riskyr`?  You can define your _own scenario_ from risk information you have available or use one of `r length(scenarios) - 1` predefined scenarios to get a first glimpse of what you can do with `riskyr`. 


### Defining your own scenario  

You can start your `riskyr`-experience by creating a risk scenario that you want to understand better.  

An example: 

Imagine you developed a test for criminal offenders in jail.  it is known that 45% of all offenders re-offend after they are released from jail. 


To this end you can use the `riskyr()` function to create a "riskyr" object that you can visualize and alter in different ways. 

```{r}
custom.scenario <- riskyr(scen.lbl = "Using R", scen.lng = txt$scen.lng,
                  scen.txt = txt$scen.txt, popu.lbl = txt$popu.lbl,
                  cond.lbl = txt$cond.lbl,
                  cond.true.lbl = txt$cond.true.lbl, cond.false.lbl = txt$cond.false.lbl,
                  dec.lbl = txt$dec.lbl,
                  dec.pos.lbl = txt$dec.pos.lbl, dec.neg.lbl = txt$dec.neg.lbl,
                  hi.lbl = txt$hi.lbl, mi.lbl = txt$mi.lbl,
                  fa.lbl = txt$fa.lbl, cr.lbl = txt$cr.lbl,
                  prev = .20,  # prevalence of
                  sens = num$sens,
                  spec = num$spec, fart = NA, N = freq$N,
                  scen.src = txt$scen.src, scen.apa = txt$scen.apa)
```


### Using existing scenarios


Show (some columns of) `scenarios` as table?


As defining your own scenarios can be cumbersome and the literature is full of similar problems (of so-called Bayesian reasoning), `riskyr` provides a set of (currently 25) pre-defined scenarios (stored in a list `scenarios`). Here is how you can explore them:

```{r example_use_a, eval = FALSE}
## (2) Inspect an existing riskyr scenario: ---------- 

## (a) PSA screening with high prevalence: ----------

s21 <- scenarios$n21  # assign pre-defined Scenario_21 to s

## View parameters:
summary(s21) # shows all scenario information
summary(s21, summarize = "prob") # shows probabilities
summary(s21, summarize = "freq") # shows frequencies

## View graphics: 
plot(s21) # plots a network diagram (by default)
plot(s21, plottype = "icons")
plot(s21, plottype = "mosaic")
plot(s21, plottype = "curve", what = "all")
plot(s21, plottype = "plane", what = "PPV")
```


What is to see?

```{r example_use_b, eval = FALSE}
## (b) same with low prevalence: ----------

s22 <- scenarios$n22  # assign pre-defined Scenario_22 to s22

# ... 

## Contrast two versions: 
plot(s22, plottype = "plane", what = "PPV")
plot(s22, plottype = "plane", what = "PPV")

```



## All `riskyr` Vignettes

<!-- riskyr logo: -->
<a href="https://github.com/hneth/riskyr">
<img src="../inst/pix/riskyr_cube.png" alt="riskyr" style="width: 125px; float: right; border:10;"/>
</a>

<!-- Index of vignettes: -->

| Nr.  | Vignette | Content    |        
| ---: |:---------|:-----------|
| A. | [User guide](A_user_guide.html) | Motivation and general instructions | 
| B. | [Data formats](B_data_formats.html) | Data formats: Frequencies and probabilities | 
| C. | [Confusion matrix](C_confusion_matrix.html) | Confusion matrix and accuracy metrics |
| D. | [Functional perspectives](D_functional_perspectives.html) | Adopting functional perspectives |
| E. | [`riskyr` primer](E_riskyr_primer.html) | A quick tutorial to get started with `riskyr`  |



<!-- eof. -->
