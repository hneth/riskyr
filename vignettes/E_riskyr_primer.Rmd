---
title: "`riskyr` Primer"
author: "Nico Gradwohl & HansjÃ¶rg Neth, SPDS, uni.kn"
date: "2018 02 12"
output: 
  rmarkdown::html_vignette: 
    fig_caption: yes
vignette: > 
  %\VignetteIndexEntry{User Guide}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r setup, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```


## Getting Started 


### Defining your own scenario  

Here is how `riskyr` allows you to view and solve such problems:

```{r example_design, eval = FALSE}
library(riskyr)  # load riskyr

## (1) Define your own scenario: ----------
hustosis <- riskyr(prev = .04, sens = .80, spec = (1 - .05), 
                   N = 1000, popu.lbl = "representative sample"
                   scen.lbl = "Example", cond.lbl = "Screening for hustosis", 
                   dec.lbl = "screening")

## View parameters:
summary(hustosis)
summary(hustosis, summarize = "probs")

## View graphics: 
plot(hustosis, plottype = "ftree")
plot(hustosis, plottype = "icons")
# plot(hustosis, plottype = "mosaic")
plot(hustosis, plottype = "curve")
# plot(hustosis, plottype = "plane", what = "NPV")
```


### Using existing scenarios


Show (some columns of) `scenarios` as table?


As defining your own scenarios can be cumbersome and the literature is full of similar problems (of so-called Bayesian reasoning), `riskyr` provides a set of (currently 25) pre-defined scenarios (stored in a list `scenarios`). Here is how you can explore them:

```{r example_use_a, eval = FALSE}
## (2) Inspect an existing riskyr scenario: ---------- 

## (a) PSA screening with high prevalence: ----------

s21 <- scenarios$n21  # assign pre-defined Scenario_21 to s

## View parameters:
summary(s21) # shows all scenario information
summary(s21, summarize = "prob") # shows probabilities
summary(s21, summarize = "freq") # shows frequencies

## View graphics: 
plot(s21) # plots a network diagram (by default)
plot(s21, plottype = "icons")
plot(s21, plottype = "mosaic")
plot(s21, plottype = "curve", what = "all")
plot(s21, plottype = "plane", what = "PPV")
```


What is to see?

```{r example_use_b, eval = FALSE}
## (b) same with low prevalence: ----------

s22 <- scenarios$n22  # assign pre-defined Scenario_22 to s22

# ... 

## Contrast two versions: 
plot(s22, plottype = "plane", what = "PPV")
plot(s22, plottype = "plane", what = "PPV")

```



## All `riskyr` Vignettes

<!-- riskyr logo: -->
<a href="https://github.com/hneth/riskyr">
<img src="../inst/pix/riskyr_cube.png" alt="riskyr" style="width: 125px; float: right; border:10;"/>
</a>

<!-- Index of vignettes: -->

| Nr.  | Vignette | Content    |        
| ---: |:---------|:-----------|
| A. | [User guide](A_user_guide.html) | Motivation and general instructions | 
| B. | [Data formats](B_data_formats.html) | Data formats: Frequencies and probabilities | 
| C. | [Confusion matrix](C_confusion_matrix.html) | Confusion matrix and accuracy metrics |
| D. | [Functional perspectives](D_functional_perspectives.html) | Adopting functional perspectives |
| E. | [`riskyr` primer](E_riskyr_primer.html) | A quick tutorial to get started with `riskyr`  |



<!-- eof. -->
