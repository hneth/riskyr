<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Formats • riskyr</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Data Formats">
<meta property="og:description" content="riskyr">
<meta property="og:image" content="https://hneth.github.io/riskyr/logo.png">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">riskyr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
    Home
  </a>
</li>
<li>
  <a href="../articles/E_riskyr_primer.html">Getting started</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    All articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/A_user_guide.html">User guide</a>
    </li>
    <li>
      <a href="../articles/B_data_formats.html">Data formats</a>
    </li>
    <li>
      <a href="../articles/C_confusion_matrix.html">Confusion matrix</a>
    </li>
    <li>
      <a href="../articles/D_functional_perspectives.html">Functional perspectives</a>
    </li>
    <li>
      <a href="../articles/E_riskyr_primer.html">Quick start primer</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://hneth.github.io/riskyr/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Data Formats</h1>
                        <h4 data-toc-skip class="author">Hansjörg Neth, SPDS, uni.kn</h4>
            
            <h4 data-toc-skip class="date">2021 03 31</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/hneth/riskyr/blob/HEAD/vignettes/B_data_formats.Rmd" class="external-link"><code>vignettes/B_data_formats.Rmd</code></a></small>
      <div class="hidden name"><code>B_data_formats.Rmd</code></div>

    </div>

    
    
<!-- Motto: -->
<blockquote>
<p>The quest for certainty is the biggest obstacle to becoming risk savvy. (Gerd Gigerenzer)<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a></p>
</blockquote>
<!-- Introduction: Uncertainty: Risks as probabilities vs. frequencies -->
<p>A major challenge in mastering risk literacy is coping with inevitable uncertainty. Fortunately, uncertainty in the form of <em>risk</em> can be expressed in terms of probabilities and thus be measured and calculated or “reckoned” with (Gigerenzer, 2002). Nevertheless, probabilistic information is often difficult to understand, even for experts in risk management and statistics. A smart and effective way to communicate probabilities is by expressing them in terms of frequencies.</p>
<div class="section level2">
<h2 id="two-representational-formats">Two representational formats<a class="anchor" aria-label="anchor" href="#two-representational-formats"></a>
</h2>
<p>The problems addressed by <strong>riskyr</strong> and the scientific discussion surrounding them can be framed in terms of two representational formats: Basically, risk-related information can be expressed in terms of <em>frequencies</em> or in terms of <em>probabilities</em> (see the <a href="A_user_guide.html">user guide</a> for background information.)</p>
<p><strong>riskyr</strong> reflects this basic division by distinguishing between the same two data types and hence provides objects that contain frequencies (specifically, a list called <code>freq</code>) and objects that contain probabilities (a list called <code>prob</code>). But before we explain their contents, it is important to realize that any such separation is an abstract and artificial one. It may make sense to distinguish frequencies from probabilities for conceptual and educational reasons, but both in theory and in reality both representations are intimately intertwined.<a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a></p>
<p>In the following, we first consider frequencies and probabilities by themselves, before showing how both are related. As a sneak preview, the following prism plot shows both frequencies (as nodes) and probabilities (as edges connecting the nodes) from two perspectives:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://riskyr.org/" class="external-link">"riskyr"</a></span><span class="op">)</span> <span class="co"># load the "riskyr" package</span></span>
<span></span>
<span><span class="fu"><a href="../reference/plot_prism.html">plot_prism</a></span><span class="op">(</span>prev <span class="op">=</span> <span class="fl">.01</span>, sens <span class="op">=</span> <span class="fl">.80</span>, spec <span class="op">=</span> <span class="cn">NA</span>, fart <span class="op">=</span> <span class="fl">.096</span>,  <span class="co"># 3 essential probabilities</span></span>
<span>           N <span class="op">=</span> <span class="fl">1000</span>,       <span class="co"># 1 frequency</span></span>
<span>           area <span class="op">=</span> <span class="st">"no"</span>,    <span class="co"># same size for all boxes</span></span>
<span>           p_lbl <span class="op">=</span> <span class="st">"abb"</span>,  <span class="co"># show abbreviated names of probabilities on edges</span></span>
<span>           title_lbl <span class="op">=</span> <span class="st">"Example"</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="B_data_formats_files/figure-html/prism-plot-1-1.png" alt="A prism plot showing frequencies as nodes and probabilities as edges linking nodes." width="576"><p class="caption">
A prism plot showing frequencies as nodes and probabilities as edges linking nodes.
</p>
</div>
</div>
<div class="section level2">
<h2 id="frequencies">Frequencies<a class="anchor" aria-label="anchor" href="#frequencies"></a>
</h2>
<p>For our purposes, frequencies simply are numbers that can be counted — either 0 or positive integers.<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a></p>
<div class="section level3">
<h3 id="definitions">Definitions<a class="anchor" aria-label="anchor" href="#definitions"></a>
</h3>
<p>The following 11 frequencies are distinguished by <strong>riskyr</strong> and contained in <code>freq</code>:</p>
<table class="table">
<colgroup>
<col width="4%">
<col width="7%">
<col width="87%">
</colgroup>
<thead><tr class="header">
<th align="right">Nr.</th>
<th align="left">Variable</th>
<th align="left">Definition</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1.</td>
<td align="left"><code>N</code></td>
<td align="left">The number of cases (or individuals) in the population.</td>
</tr>
<tr class="even">
<td align="right">2.</td>
<td align="left"><code>cond_true</code></td>
<td align="left">The number of cases for which the condition is present (<code>TRUE</code>).</td>
</tr>
<tr class="odd">
<td align="right">3.</td>
<td align="left"><code>cond_false</code></td>
<td align="left">The number of cases for which the condition is absent (<code>FALSE</code>).</td>
</tr>
<tr class="even">
<td align="right">4.</td>
<td align="left"><code>dec_pos</code></td>
<td align="left">The number of cases for which the decision is positive (<code>TRUE</code>).</td>
</tr>
<tr class="odd">
<td align="right">5.</td>
<td align="left"><code>dec_neg</code></td>
<td align="left">The number of cases for which the decision is negative (<code>FALSE</code>).</td>
</tr>
<tr class="even">
<td align="right">6.</td>
<td align="left"><code>dec_cor</code></td>
<td align="left">The number of cases for which the decision is correct (correspondence between decision and condition).</td>
</tr>
<tr class="odd">
<td align="right">7.</td>
<td align="left"><code>dec_err</code></td>
<td align="left">The number of cases for which the decision is erroneous (lack of correspondence between decision and condition).</td>
</tr>
<tr class="even">
<td align="right">8.</td>
<td align="left"><code>hi</code></td>
<td align="left">The number of hits or true positives: condition present (<code>TRUE</code>) &amp; decision positive (<code>TRUE</code>).</td>
</tr>
<tr class="odd">
<td align="right">9.</td>
<td align="left"><code>mi</code></td>
<td align="left">The number of misses or false negatives: condition present (<code>TRUE</code>) &amp; decision negative (<code>FALSE</code>).</td>
</tr>
<tr class="even">
<td align="right">10.</td>
<td align="left"><code>fa</code></td>
<td align="left">The number of false alarms or false positives: condition absent (<code>FALSE</code>) &amp; decision positive (<code>TRUE</code>).</td>
</tr>
<tr class="odd">
<td align="right">11.</td>
<td align="left"><code>cr</code></td>
<td align="left">The number of correct rejections or true negatives: condition absent (<code>FALSE</code>) &amp; decision negative (<code>FALSE</code>).</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="perspectives-basic-vs--combined-frequencies">Perspectives: Basic vs. combined frequencies<a class="anchor" aria-label="anchor" href="#perspectives-basic-vs--combined-frequencies"></a>
</h3>
<p>The frequencies contained in <code>freq</code> can be viewed (or parsed) from two perspectives:</p>
<ol style="list-style-type: decimal">
<li><p><strong>Top-down: </strong> From the entire population to different parts or subgroups:<br> Whereas <code>N</code> specifies the population size, the other 10 frequencies denote the number of individuals or cases in some subset. For instance, the frequency <code>dec_pos</code> denotes individuals for which the decision or diagnosis is positive. As this frequency is contained within the population, its numeric value must range from 0 to <code>N</code>.</p></li>
<li><p><strong>Bottom-up: </strong> From the 4 essential subgroups to various combinations of them:<br> As the 4 frequencies <code>hi</code>, <code>mi</code>, <code>fa</code>, and <code>cr</code> are not further split into subgroups, we can think of them as atomic elements or four <em>essential</em> frequencies. All other frequencies in <code>freq</code> are sums of various combinations of these four essential frequencies. This implies that the entire network of frequencies and probabilities (shown in the network diagram above) can be reconstructed from these four essential frequencies.</p></li>
</ol>
</div>
<div class="section level3">
<h3 id="relationships-among-frequencies">Relationships among frequencies<a class="anchor" aria-label="anchor" href="#relationships-among-frequencies"></a>
</h3>
<p>The following relationships hold among the 11 frequencies:</p>
<ol style="list-style-type: decimal">
<li>
<p>The population size <code>N</code> can be split into several subgroups by classifying individuals by 4 different criteria:</p>
<ol style="list-style-type: lower-alpha">
<li>by condition (<code>cd</code>);</li>
<li>by decision (<code>dc</code>);</li>
<li>by accuracy (<code>ac</code>) (i.e., the correspondence of decisions to conditions);</li>
<li>by the combination of condition and decision (i.e., a joint category).</li>
</ol>
</li>
</ol>
<p>Depending on the criterion used, the following relationships hold:</p>
<p><span class="math display">\[ 
\begin{aligned}
\texttt{N} &amp;= \texttt{cond_true} + \texttt{cond_false} &amp; \textrm{(a)}\\
           &amp;= \texttt{dec_pos} + \texttt{dec_neg}      &amp; \textrm{(b)}\\
           &amp;= \texttt{dec_cor} + \texttt{dec_err}      &amp; \textrm{(c)}\\
           &amp;= \texttt{hi} + \texttt{mi} + \texttt{fa} + \texttt{cr} &amp; \textrm{(d)}\\
\end{aligned}
\]</span></p>
<p>Similarly, each of the subsets resulting from using the splits by <em>condition</em> (<code>cd</code>), by <em>decision</em> (<code>dc</code>), or by <em>accuracy</em> (<code>ac</code>), can also be expressed as a sum of two of the four essential frequencies. This results in three different ways of grouping the four essential frequencies:</p>
<ol style="list-style-type: lower-alpha">
<li>by condition (<code>cd</code>) (corresponding to the two columns of the <a href="C_confusion_matrix.html">confusion matrix</a>):</li>
</ol>
<p><span class="math display">\[ 
\begin{aligned}
\texttt{N} \ &amp;= \ \texttt{cond_true} &amp; +\ \ \ \ \ &amp;\texttt{cond_false}   &amp; \textrm{(a)} \\
           \ &amp;= \ (\texttt{hi} + \texttt{mi}) &amp; +\ \ \ \ \ &amp;(\texttt{fa} + \texttt{cr}) \\
\end{aligned}
\]</span></p>
<ol start="2" style="list-style-type: lower-alpha">
<li>by decision (<code>dc</code>) (corresponding to the two rows of the <a href="C_confusion_matrix.html">confusion matrix</a>):</li>
</ol>
<p><span class="math display">\[ 
\begin{aligned}
\texttt{N} \ &amp;= \ \texttt{dec_pos} &amp; +\ \ \ \ \ &amp;\texttt{dec_neg}   &amp; \ \ \ \ \ \textrm{(b)}  \\
           \ &amp;= \ (\texttt{hi} + \texttt{fa}) &amp; +\ \ \ \ \ &amp;(\texttt{mi} + \texttt{cr})   \\
\end{aligned}
\]</span></p>
<ol start="3" style="list-style-type: lower-alpha">
<li>by accuracy (<code>ac</code>) (or the correspondence of decisions to conditions, corresponding to the two diagonals of the <a href="C_confusion_matrix.html">confusion matrix</a>):</li>
</ol>
<p><span class="math display">\[ 
\begin{aligned}
\texttt{N} \ &amp;= \ \texttt{dec_cor} &amp; +\ \ \ \ \ &amp;\texttt{dec_err}   &amp; \ \ \ \ \textrm{(c)}  \\
           \ &amp;= \ (\texttt{hi} + \texttt{cr}) &amp; +\ \ \ \ \ &amp;(\texttt{mi} + \texttt{fa}) \\
\end{aligned}
\]</span></p>
<p>It may be tempting to refer to instances of <code>dec_cor</code> and <code>dec_err</code> as “true decisions” and “false decisions”. However, these terms invite conceptual confusion, as “true decisions” actually include <code>cond_false</code> cases (TN or <code>cr</code> cases) and “false decisions” actually include <code>cond_true</code> cases (FN or <code>mi</code> cases).</p>
</div>
</div>
<div class="section level2">
<h2 id="probabilities">Probabilities<a class="anchor" aria-label="anchor" href="#probabilities"></a>
</h2>
<p>The notions of <em>probability</em> is as elusive as ubiquitous (see Hájek, 2012, for a solid exposition of its different concepts and interpretations). For our present purposes, <em>probabilities</em> are simply numbers between 0 and 1. These numbers are defined to reflect particular quantities and can be expressed as percentages, as functions of and ratios between other numbers (frequencies or probabilities).</p>
<div class="section level3">
<h3 id="definitions-1">Definitions<a class="anchor" aria-label="anchor" href="#definitions-1"></a>
</h3>
<p><strong>riskyr</strong> distinguishes between 13 probabilities (see <code>prob</code> for current values):</p>
<table class="table">
<colgroup>
<col width="4%">
<col width="5%">
<col width="19%">
<col width="70%">
</colgroup>
<thead><tr class="header">
<th align="right">Nr.</th>
<th align="left">Variable</th>
<th align="left">Name</th>
<th align="left">Definition</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1.</td>
<td align="left"><code>prev</code></td>
<td align="left">prevalence</td>
<td align="left">The probability of the <em>condition</em> being <code>TRUE</code>.</td>
</tr>
<tr class="even">
<td align="right">2.</td>
<td align="left"><code>sens</code></td>
<td align="left">sensitivity</td>
<td align="left">The conditional probability of a <em>positive decision</em> provided that the <em>condition</em> is <code>TRUE</code>.</td>
</tr>
<tr class="odd">
<td align="right">3.</td>
<td align="left"><code>mirt</code></td>
<td align="left">miss rate</td>
<td align="left">The conditional probability of a <em>negative decision</em> provided that the <em>condition</em> is <code>TRUE</code>.</td>
</tr>
<tr class="even">
<td align="right">4.</td>
<td align="left"><code>spec</code></td>
<td align="left">specificity</td>
<td align="left">The conditional probability of a <em>negative decision</em> provided that the <em>condition</em> is <code>FALSE</code>.</td>
</tr>
<tr class="odd">
<td align="right">5.</td>
<td align="left"><code>fart</code></td>
<td align="left">false alarm rate</td>
<td align="left">The conditional probability of a <em>positive decision</em> provided that the <em>condition</em> is <code>FALSE</code>.</td>
</tr>
<tr class="even">
<td align="right">6.</td>
<td align="left"><code>ppod</code></td>
<td align="left">proportion of positive decisions</td>
<td align="left">The proportion (baseline probability or rate) of the <em>decision</em> being <em>positive</em> (but <em>not</em> necessarily <code>TRUE</code>).</td>
</tr>
<tr class="odd">
<td align="right">7.</td>
<td align="left"><code>PPV</code></td>
<td align="left">positive predictive value</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>TRUE</code> provided that the <em>decision</em> is <em>positive</em>.</td>
</tr>
<tr class="even">
<td align="right">8.</td>
<td align="left"><code>FDR</code></td>
<td align="left">false detection rate</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>FALSE</code> provided that the <em>decision</em> is <em>positive</em>.</td>
</tr>
<tr class="odd">
<td align="right">9.</td>
<td align="left"><code>NPV</code></td>
<td align="left">negative predictive value</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>FALSE</code> provided that the <em>decision</em> is <em>negative</em>.</td>
</tr>
<tr class="even">
<td align="right">10.</td>
<td align="left"><code>FOR</code></td>
<td align="left">false omission rate</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>TRUE</code> provided that the <em>decision</em> is <em>negative</em>.</td>
</tr>
<tr class="odd">
<td align="right">11.</td>
<td align="left"><code>acc</code></td>
<td align="left">accuracy</td>
<td align="left">The probability of a <em>correct decision</em> (i.e., correspondence of decisions to conditions).</td>
</tr>
<tr class="even">
<td align="right">12.</td>
<td align="left"><code>p_acc_hi</code></td>
<td align="left">–</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>TRUE</code> provided that a decision or prediction is <em>accurate</em>.</td>
</tr>
<tr class="odd">
<td align="right">13.</td>
<td align="left"><code>p_err_fa</code></td>
<td align="left">–</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>FALSE</code> provided that a decision or prediction is <em>inaccurate</em> or <em>erroneous</em>.</td>
</tr>
</tbody>
</table>
<p>Note that the prism diagram (<code>plot_prism</code>) shows a total of 18 probabilities: 3 perspectives (<code>by = "cd"</code>, <code>by = "dc"</code>, and <code>by = "ac"</code>) and 6 edges denoting the (marginal and conditional) probabilities for each perspective. However, we currently do not explicitly identify all possible probabilities.<a href="#fn4" class="footnote-ref" id="fnref4"><sup>4</sup></a></p>
</div>
<div class="section level3">
<h3 id="non-conditional-vs--conditional-probabilities">Non-conditional vs. conditional probabilities<a class="anchor" aria-label="anchor" href="#non-conditional-vs--conditional-probabilities"></a>
</h3>
<p>Note that a typical <strong>riskyr</strong> scenario contains several <em>marginal</em> or <em>non-conditional</em> probabilities:</p>
<ul>
<li>The prevalence <code>prev</code> (1.) only depends on features of the <em>condition</em>.</li>
<li>The proportion of positive decisions <code>ppod</code> (or bias) (6.) only depends on features of the <em>decision</em>.</li>
<li>The accuracy <code>acc</code> (11.) depends on <code>prev</code> and <code>ppod</code>, but unconditionally dissects a population into two groups (<code>dec_cor</code> vs. <code>dec_err</code>).</li>
</ul>
<p>The other probabilities are <em>conditional</em> probabilities based on three perspectives:</p>
<ol style="list-style-type: decimal">
<li>by <em>condition</em>: conditional probabilities (2. to 5.) depend on the <em>condition</em>’s <code>prev</code> and features of the <em>decision</em>.<br>
</li>
<li>by <em>decision</em>: conditional probabilities (7. to 10.) depend on the <em>decision</em>’s <code>ppod</code> and features of the <em>condition</em>.<br>
</li>
<li>by <em>accuracy</em>: conditional probabilities based on <em>accuracy</em> <code>acc</code> are currently computed, but – in the absence of a commonly accepted term — named <code>p_acc_hi</code> and <code>p_err_fa</code> (12. and 13.).</li>
</ol>
</div>
<div class="section level3">
<h3 id="relationships-among-probabilities">Relationships among probabilities<a class="anchor" aria-label="anchor" href="#relationships-among-probabilities"></a>
</h3>
<p>The following relationships hold among the conditional probabilities:</p>
<ul>
<li>The sensitivity <code>sens</code> and miss rate <code>mirt</code> are complements:</li>
</ul>
<p><span class="math display">\[
\texttt{sens} = 1 - \texttt{mirt}
\]</span> - The specificity <code>spec</code> and false alarm rate <code>fart</code> are complements:</p>
<p><span class="math display">\[
\texttt{spec} = 1 - \texttt{fart}
\]</span> - The positive predictive value <code>PPV</code> and false detection rate <code>FDR</code> are complements:</p>
<p><span class="math display">\[
\texttt{PPV} = 1 - \texttt{FDR}
\]</span> - The negative predictive value <code>NPV</code> and false omission rate <code>FOR</code> are complements:</p>
<p><span class="math display">\[
\texttt{NPV} = 1 - \texttt{FOR}
\]</span></p>
<p>It is possible to adapt Bayes’ formula to define <code>PPV</code> and <code>NPV</code> in terms of <code>prev</code>, <code>sens</code>, and <code>spec</code>:</p>
<p><span class="math display">\[
\texttt{PPV} = \frac{\texttt{prev} \cdot \texttt{sens}}{\texttt{prev} \cdot \texttt{sens} + (1 - \texttt{prev}) \cdot (1 - \texttt{sens})}\\
 \\
 \\
\texttt{NPV} = \frac{(1 - \texttt{prev}) \cdot \texttt{spec}}{\texttt{prev} \cdot (1 - \texttt{sens}) + (1 - \texttt{prev}) \cdot \texttt{spec}}
\]</span></p>
<p>Although this is how the functions <code>comp_PPV</code> and <code>comp_NPV</code> compute the desired conditional probability, it is difficult to remember and think in these terms. Instead, we recommend thinking about and defining all conditional probabilities in terms of frequencies and relations between frequencies (see <a href="https://doi.org/10.3389/fpsyg.2020.567817" class="external-link">Neth et al., 2021</a> for details).</p>
</div>
</div>
<div class="section level2">
<h2 id="probabilities-as-ratios-between-frequencies">Probabilities as ratios between frequencies<a class="anchor" aria-label="anchor" href="#probabilities-as-ratios-between-frequencies"></a>
</h2>
<p>The easiest way to think about, define, and compute the probabilities (contained in <code>prob</code>) is in terms of frequencies (contained in <code>freq</code>):</p>
<table class="table">
<colgroup>
<col width="4%">
<col width="5%">
<col width="18%">
<col width="52%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="right">Nr.</th>
<th align="left">Variable</th>
<th align="left">Name</th>
<th align="left">Definition</th>
<th align="left">as Frequencies</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">1.</td>
<td align="left"><code>prev</code></td>
<td align="left">prevalence</td>
<td align="left">The probability of the <em>condition</em> being <code>TRUE</code>.</td>
<td align="left">
<code>prev</code> = <code>cond_true</code>/<code>N</code>
</td>
</tr>
<tr class="even">
<td align="right">2.</td>
<td align="left"><code>sens</code></td>
<td align="left">sensitivity</td>
<td align="left">The conditional probability of a <em>positive decision</em> provided that the <em>condition</em> is <code>TRUE</code>.</td>
<td align="left">
<code>sens</code> = <code>hi</code>/<code>cond_true</code>
</td>
</tr>
<tr class="odd">
<td align="right">3.</td>
<td align="left"><code>mirt</code></td>
<td align="left">miss rate</td>
<td align="left">The conditional probability of a <em>negative decision</em> provided that the <em>condition</em> is <code>TRUE</code>.</td>
<td align="left">
<code>mirt</code> = <code>mi</code>/<code>cond_true</code>
</td>
</tr>
<tr class="even">
<td align="right">4.</td>
<td align="left"><code>spec</code></td>
<td align="left">specificity</td>
<td align="left">The conditional probability of a <em>negative decision</em> provided that the <em>condition</em> is <code>FALSE</code>.</td>
<td align="left">
<code>spec</code> = <code>cr</code>/<code>cond_false</code>
</td>
</tr>
<tr class="odd">
<td align="right">5.</td>
<td align="left"><code>fart</code></td>
<td align="left">false alarm rate</td>
<td align="left">The conditional probability of a <em>positive decision</em> provided that the <em>condition</em> is <code>FALSE</code>.</td>
<td align="left">
<code>fart</code> = <code>fa</code>/<code>cond_false</code>
</td>
</tr>
<tr class="even">
<td align="right">6.</td>
<td align="left"><code>ppod</code></td>
<td align="left">proportion of positive decisions</td>
<td align="left">The proportion (baseline probability or rate) of the <em>decision</em> being <em>positive</em> (but <em>not</em> necessarily <code>TRUE</code>).</td>
<td align="left">
<code>ppod</code> = <code>dec_pos</code>/<code>N</code>
</td>
</tr>
<tr class="odd">
<td align="right">7.</td>
<td align="left"><code>PPV</code></td>
<td align="left">positive predictive value</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>TRUE</code> provided that the <em>decision</em> is <em>positive</em>.</td>
<td align="left">
<code>PPV</code> = <code>hi</code>/<code>dec_pos</code>
</td>
</tr>
<tr class="even">
<td align="right">8.</td>
<td align="left"><code>FDR</code></td>
<td align="left">false detection rate</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>FALSE</code> provided that the <em>decision</em> is <em>positive</em>.</td>
<td align="left">
<code>FDR</code> = <code>fa</code>/<code>dec_pos</code>
</td>
</tr>
<tr class="odd">
<td align="right">9.</td>
<td align="left"><code>NPV</code></td>
<td align="left">negative predictive value</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>FALSE</code> provided that the <em>decision</em> is <em>negative</em>.</td>
<td align="left">
<code>NPV</code> = <code>cr</code>/<code>dec_neg</code>
</td>
</tr>
<tr class="even">
<td align="right">10.</td>
<td align="left"><code>FOR</code></td>
<td align="left">false omission rate</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>TRUE</code> provided that the <em>decision</em> is <em>negative</em>.</td>
<td align="left">
<code>FOR</code> = <code>mi</code>/<code>dec_neg</code>
</td>
</tr>
<tr class="odd">
<td align="right">11.</td>
<td align="left"><code>acc</code></td>
<td align="left">accuracy</td>
<td align="left">The probability of a <em>correct decision</em> (i.e., correspondence of decisions to conditions).</td>
<td align="left">
<code>acc</code> = <code>dec_cor</code>/<code>N</code>
</td>
</tr>
<tr class="even">
<td align="right">12.</td>
<td align="left"><code>p_acc_hi</code></td>
<td align="left">–</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>TRUE</code> provided that a decision or prediction is <em>accurate</em>.</td>
<td align="left">
<code>p_acc_hi</code> = <code>hi</code>/<code>dec_cor</code>
</td>
</tr>
<tr class="odd">
<td align="right">13.</td>
<td align="left"><code>p_err_fa</code></td>
<td align="left">–</td>
<td align="left">The conditional probability of the <em>condition</em> being <code>FALSE</code> provided that a decision or prediction is <em>inaccurate</em> or <em>erroneous</em>.</td>
<td align="left">
<code>p_err_fa</code> = <code>fa</code>/<code>dec_err</code>
</td>
</tr>
</tbody>
</table>
<p>Note that the ratios between frequencies are straightforward consequences of the probabilities’ definitions:</p>
<ol style="list-style-type: decimal">
<li>
<p>The unconditional probabilities (1., 6. and 11.) are proportions of the entire population:</p>
<ul>
<li>
<code>prev</code> = <code>cond_true</code>/<code>N</code>
</li>
<li>
<code>ppod</code> = <code>dec_pos</code>/<code>N</code>
</li>
<li>
<code>acc</code> = <code>dec_cor</code>/<code>N</code>
</li>
</ul>
</li>
<li><p>The conditional probabilities (2.–5., 7.–10., and 11.–12.) can be computed as a proportion of the reference group on which they are conditional. More specifically, if we schematically read each definition as “The conditional probability of <span class="math inline">\(X\)</span> provided that <span class="math inline">\(Y\)</span>”, then the ratio of the corresponding frequencies is <code>X &amp; Y</code>/<code>Y</code>. More explicitly,</p></li>
</ol>
<ul>
<li>the ratio’s numerator is the frequency of the joint occurrence (i.e., both <code>X &amp; Y</code>) being the case;</li>
<li>the ratio’s denominator is the frequency of the condition (<code>Y</code>) being the case.</li>
</ul>
<p>When computing probabilities from rounded frequencies, their numeric values may deviate from the true underlying probabilities, particularly for small population sizes <code>N</code>. (Use the <code>scale</code> argument of many <strong>riskyr</strong> plotting functions to control whether probabilities are based on frequencies.)</p>
</div>
<div class="section level2">
<h2 id="practice">Practice<a class="anchor" aria-label="anchor" href="#practice"></a>
</h2>
<div class="section level3">
<h3 id="an-example">An example<a class="anchor" aria-label="anchor" href="#an-example"></a>
</h3>
<p>The following prism (or network) diagram is based on the following inputs:</p>
<ul>
<li>a condition’s prevalence of 50% (<code>prev = .50</code>);</li>
<li>a decision’s sensitivity of 80% (<code>sens = .80</code>);</li>
<li>a decision’s specificity of 60% (<code>spec = .60</code>);</li>
<li>a population size of 10 individuals (<code>N = 10</code>);</li>
</ul>
<p>and illustrates the relationship between frequencies and probabilities:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/plot_prism.html">plot_prism</a></span><span class="op">(</span>prev <span class="op">=</span> <span class="fl">.50</span>, sens <span class="op">=</span> <span class="fl">.80</span>, spec <span class="op">=</span> <span class="fl">.60</span>,  <span class="co"># 3 essential probabilities</span></span>
<span>           N <span class="op">=</span> <span class="fl">10</span>,         <span class="co"># population frequency</span></span>
<span>           scale <span class="op">=</span> <span class="st">"f"</span>,    <span class="co"># scale by frequency, rather than probability ("p") </span></span>
<span>           area <span class="op">=</span> <span class="st">"sq"</span>,    <span class="co"># boxes as squares, with sizes scaled by current scale  </span></span>
<span>           p_lbl <span class="op">=</span> <span class="st">"num"</span>,  <span class="co"># show numeric probability values on edges</span></span>
<span>           title_lbl <span class="op">=</span> <span class="st">"Probabilities as ratios between frequencies"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Argument 'title_lbl' is deprecated. Please use 'main' instead.</span></span></code></pre></div>
<div class="figure">
<img src="B_data_formats_files/figure-html/prism-plot-2-1.png" alt="A prism plot showing how probabilities can be computed as ratios between frequencies." width="576"><p class="caption">
A prism plot showing how probabilities can be computed as ratios between frequencies.
</p>
</div>
</div>
<div class="section level3">
<h3 id="your-tasks">Your tasks<a class="anchor" aria-label="anchor" href="#your-tasks"></a>
</h3>
<ol style="list-style-type: decimal">
<li><p>Verify that the probabilities (shown as numeric values on the edges) match the ratios of the corresponding frequencies (shown in the boxes). What are the names of these probabilities?</p></li>
<li><p>What is the frequency of <code>dec_cor</code> and <code>dec_err</code> cases? Where do these cases appear in the diagram?</p></li>
<li><p>The parameter values in the example do not require any rounding of frequencies. Change them (e.g., to <code>N = 5</code>) and explore what happens when alternating between <code>scale = "f"</code> and <code>scale = "p"</code>.</p></li>
</ol>
</div>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<ul>
<li><p>Gigerenzer, G. (2002). <em>Reckoning with risk: Learning to live with uncertainty</em>. London, UK: Penguin.</p></li>
<li><p>Gigerenzer, G. (2014). <em>Risk savvy: How to make good decisions</em>. New York, NY: Penguin.</p></li>
<li><p>Gigerenzer, G., &amp; Hoffrage, U. (1999). Overcoming difficulties in Bayesian reasoning: A reply to Lewis and Keren (1999) and Mellers and McGraw (1999). <em>Psychological Review</em>, <em>106</em>, 425–430.</p></li>
<li><p>Hájek, A (2012) <a href="https://plato.stanford.edu/entries/probability-interpret/" class="external-link">Interpretations of Probability</a>. In Edward N. Zalta (Ed.), <em>The Stanford Encyclopedia of Philosophy</em>. URL: <a href="https://plato.stanford.edu/entries/probability-interpret/" class="external-link uri">https://plato.stanford.edu/entries/probability-interpret/</a> <a href="https://plato.stanford.edu/archives/win2012/entries/probability-interpret/" class="external-link">2012 Archive</a></p></li>
<li><p>Hoffrage, U., Gigerenzer, G., Krauss, S., &amp; Martignon, L. (2002). Representation facilitates reasoning: What natural frequencies are and what they are not. <em>Cognition</em>, <em>84</em>, 343–352.</p></li>
<li><p>Neth, H., Gradwohl, N., Streeb, D., Keim, D.A., &amp; Gaissmaier, W. (2021). Perspectives on the 2x2 matrix: Solving semantically distinct problems based on a shared structure of binary contingencies. <em>Frontiers in Psychology: Cognition</em>, <em>11</em>, 567817. doi: <a href="https://doi.org/10.3389/fpsyg.2020.567817" class="external-link">10.3389/fpsyg.2020.567817</a> (<a href="https://doi.org/10.3389/fpsyg.2020.567817" class="external-link">Available online</a>)</p></li>
<li><p>Trevethan, R. (2017). Sensitivity, specificity, and predictive values: Foundations, pliabilities, and pitfalls in research and practice. <em>Frontiers in Public Health</em>, <em>5</em>, 307. (<a href="https://doi.org/10.3389/fpubh.2017.00307" class="external-link">Available online</a>)</p></li>
</ul>
<div class="section level3">
<h3 id="resources">Resources<a class="anchor" aria-label="anchor" href="#resources"></a>
</h3>
<p>The following resources and versions are currently available:</p>
<table class="table">
<colgroup>
<col width="32%">
<col width="25%">
<col width="41%">
</colgroup>
<thead><tr class="header">
<th align="left">Type:</th>
<th align="left">Version:</th>
<th align="left">URL:</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">A. <strong>riskyr</strong> (R package):</td>
<td align="left"><a href="https://CRAN.R-project.org/package=riskyr" class="external-link">Release version</a></td>
<td align="left"><a href="https://CRAN.R-project.org/package=riskyr" class="external-link uri">https://CRAN.R-project.org/package=riskyr</a></td>
</tr>
<tr class="even">
<td align="left"> </td>
<td align="left"><a href="https://github.com/hneth/riskyr/" class="external-link">Development version</a></td>
<td align="left"><a href="https://github.com/hneth/riskyr/" class="external-link uri">https://github.com/hneth/riskyr/</a></td>
</tr>
<tr class="odd">
<td align="left">B. <strong>riskyrApp</strong> (R Shiny code):</td>
<td align="left"><a href="https://riskyr.org/" class="external-link">Online version</a></td>
<td align="left"><a href="https://riskyr.org/" class="external-link">https://riskyr.org/</a></td>
</tr>
<tr class="even">
<td align="left"> </td>
<td align="left"><a href="https://github.com/hneth/riskyrApp/" class="external-link">Development version</a></td>
<td align="left"><a href="https://github.com/hneth/riskyrApp/" class="external-link uri">https://github.com/hneth/riskyrApp/</a></td>
</tr>
<tr class="odd">
<td align="left">C. Online documentation:</td>
<td align="left"><a href="https://hneth.github.io/riskyr/">Release version</a></td>
<td align="left"><a href="https://hneth.github.io/riskyr/" class="uri">https://hneth.github.io/riskyr/</a></td>
</tr>
<tr class="even">
<td align="left"> </td>
<td align="left"><a href="https://hneth.github.io/riskyr/dev/">Development version</a></td>
<td align="left"><a href="https://hneth.github.io/riskyr/dev/" class="uri">https://hneth.github.io/riskyr/dev/</a></td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="section level2">
<h2 id="contact">Contact<a class="anchor" aria-label="anchor" href="#contact"></a>
</h2>
<!-- uni.kn logo and link to SPDS: -->
<p><a href="https://spds.uni-konstanz.de/" class="external-link"> <img src="../inst/pix/uniKn_logo.png" alt="spds.uni.kn" style="width: 280px; float: right; border:15;"></a></p>
<p>We appreciate your feedback, comments, or questions.</p>
<ul>
<li><p>Please report any <strong>riskyr</strong>-related issues at <a href="https://github.com/hneth/riskyr/issues/" class="external-link uri">https://github.com/hneth/riskyr/issues/</a>.</p></li>
<li><p>Contact us at <a href="mailto:contact.riskyr@gmail.com" class="email">contact.riskyr@gmail.com</a> with any comments, questions, or suggestions.</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="all-riskyr-vignettes">All riskyr vignettes<a class="anchor" aria-label="anchor" href="#all-riskyr-vignettes"></a>
</h2>
<!-- riskyr logo: -->
<p><a href="https://github.com/hneth/riskyr/" class="external-link"> <img src="../inst/pix/riskyr_cube.png" alt="riskyr" style="width: 125px; float: right; border:20;"></a></p>
<!-- Index of vignettes: -->
<table class="table">
<thead><tr class="header">
<th align="right">Nr.</th>
<th align="left">Vignette</th>
<th align="left">Content</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="right">A.</td>
<td align="left"><a href="A_user_guide.html">User guide</a></td>
<td align="left">Motivation and general instructions</td>
</tr>
<tr class="even">
<td align="right">B.</td>
<td align="left"><a href="B_data_formats.html">Data formats</a></td>
<td align="left">Data formats: Frequencies and probabilities</td>
</tr>
<tr class="odd">
<td align="right">C.</td>
<td align="left"><a href="C_confusion_matrix.html">Confusion matrix</a></td>
<td align="left">Confusion matrix and accuracy metrics</td>
</tr>
<tr class="even">
<td align="right">D.</td>
<td align="left"><a href="D_functional_perspectives.html">Functional perspectives</a></td>
<td align="left">Adopting functional perspectives</td>
</tr>
<tr class="odd">
<td align="right">E.</td>
<td align="left"><a href="E_riskyr_primer.html">Quick start primer</a></td>
<td align="left">Quick start primer</td>
</tr>
</tbody>
</table>
<!-- eof. -->
</div>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Gigerenzer, G. (2014). <em>Risk savvy: How to make good decisions</em>. New York, NY: Penguin. (p. 21).<a href="#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>For instance, we can distinguish between various types of probabilities (e.g., <em>joint</em>, <em>marginal</em>, and <em>conditional</em> probabilities) and <em>natural frequencies</em> provide a relational concept for expressing <em>probabilities</em>. See <a href="https://doi.org/10.3389/fpsyg.2020.567817" class="external-link">Neth et al., 2021</a> for details.<a href="#fnref2" class="footnote-back">↩︎</a></p></li>
<li id="fn3"><p>It seems plausible that the notion of a <em>frequency</em> is simpler than the notion of <em>probability</em>. Nevertheless, confusion is possible and typically causes serious scientific disputes. See Gigerenzer &amp; Hoffrage, 1999, and Hoffrage et al., 2002, for different types of frequencies and the notion of <em>natural frequencies</em>.<a href="#fnref3" class="footnote-back">↩︎</a></p></li>
<li id="fn4"><p>For instance, some probabilities are the complements of others and do not have explicit names. Also, <em>joint</em> probabilities (e.g., the probabilities of <code>hi</code>, <code>mi</code>, <code>fa</code>, and <code>cr</code>) are not included in <code>prob</code>, but generated when needed (e.g., see <code><a href="../reference/plot_fnet.html">plot_fnet()</a></code>).<a href="#fnref4" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://spds.uni-konstanz.de/hans-neth" class="external-link">Hansjoerg Neth</a>, <a href="https://spds.uni-konstanz.de/felix-gaisbauer" class="external-link">Felix Gaisbauer</a>, <a href="https://spds.uni-konstanz.de/nico-gradwohl" class="external-link">Nico Gradwohl</a>, <a href="https://spds.uni-konstanz.de/wolfgang-gaissmaier" class="external-link">Wolfgang Gaissmaier</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
